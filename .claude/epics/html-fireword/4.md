---
name: Color Customization and Configuration System
status: open
created: 2026-01-10T15:45:04Z
updated: 2026-01-10T15:48:33Z
github: https://github.com/TuanPhuong2020/html-fireword/issues/4
depends_on: [3]
parallel: false
conflicts_with: []
---

# Task: Color Customization and Configuration System

## Description
Implement comprehensive color customization system supporting hex colors, RGB arrays, predefined palettes, and single/multi-color modes. Add event callbacks (onLaunch, onComplete) for developer hooks.

## Acceptance Criteria
- [ ] Support for hex color strings (e.g., "#ff0000")
- [ ] Support for RGB arrays (e.g., [255, 0, 0])
- [ ] Predefined color palettes (e.g., "rainbow", "fire", "ocean")
- [ ] Single color mode (all particles same color)
- [ ] Multi-color mode (random color per particle from palette)
- [ ] Color configuration via constructor options
- [ ] Color override via launch() method
- [ ] Event callback: `onLaunch(x, y)` fired when firework launches
- [ ] Event callback: `onComplete()` fired when all particles fade out
- [ ] Default color palette if none specified

## Technical Details
**Implementation Approach:**
- Extend Firework constructor with color parsing
- Predefined palettes: rainbow, fire, ocean, monochrome
- Color validation with fallback to defaults
- Event callbacks: onLaunch (immediate), onComplete (when particles empty)

**Key Considerations:**
- Color validation: Handle invalid input gracefully
- Performance: Pre-parse colors once, not per-particle
- Backwards compatibility maintained

**Code Locations:**
- src/firework.js (extend existing class)

## Dependencies
- [ ] Task 002 completed (core engine must exist)

## Effort Estimate
- Size: M
- Hours: 12-16 hours
- Parallel: false (requires core engine from Task 002)

## Definition of Done
- [ ] All color formats supported and tested
- [ ] Predefined palettes working correctly
- [ ] Color overrides in launch() method work
- [ ] Event callbacks fire at correct times
- [ ] Code examples documented for color usage
- [ ] Builds successfully and renders colored fireworks
